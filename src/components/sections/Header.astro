---
import { SITE_TITLE } from '../../consts';
import HeaderLink from './HeaderLink.astro';
import ThemeToggle from '../ui/button/ThemeToggle.astro';
---

<header class="bg-background text-foreground border-b sw-header">
    <nav class="mx-auto max-w-6xl px-4 py-2 flex items-center justify-between">
        <div class="flex items-center gap-3">
            <a class="no-underline hover:opacity-90 flex items-center gap-2" href="/hasac/" aria-label="Əsas">
                <img src="/hasac/favicon.png?v=1" alt="" aria-hidden="true" width="45" height="45" />
            </a>
            <div class="internal-links hidden md:flex items-center gap-2 ml-1">
                <HeaderLink href="/hasac" class="px-2 py-3 text-[color:var(--color-text-secondary)] no-underline">Əsas</HeaderLink>
                      <!-- X icon <HeaderLink href="/hasac/portfolio" class="px-2 py-3 text-[color:var(--color-text-secondary)] no-underline">Layihələr</HeaderLink>-->
                <HeaderLink href="/hasac/about" class="px-2 py-3 text-[color:var(--color-text-secondary)] no-underline">Haqqımızda</HeaderLink>
                <HeaderLink href="/hasac/blog" class="px-2 py-3 text-[color:var(--color-text-secondary)] no-underline">Məqalələr</HeaderLink>
                <a href="#contact" class="px-2 py-3 text-[color:var(--color-text-secondary)] no-underline">Bizimlə Əlaqə</a>
            </div>
        </div>
        <div class="flex items-center gap-3">
            <div class="social-links hidden md:flex items-center gap-3">
                <a href="https://instagram.com/" target="_blank" class="group text-[color:var(--color-text-secondary)]">
                    <span class="sr-only">Follow on Instagram</span>
                    <!-- X icon -->
<svg height="38px" width="38px" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 551.034 551.034" xml:space="preserve" fill="#000000">
<g id="SVGRepo_bgCarrier" stroke-width="0"></g>
<g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g>
<g id="SVGRepo_iconCarrier"> <g id="XMLID_13_"> <linearGradient id="XMLID_2_" gradientUnits="userSpaceOnUse" x1="275.517" y1="4.5714" x2="275.517" y2="549.7202" gradientTransform="matrix(1 0 0 -1 0 554)"> <stop offset="0" style="stop-color:#E09B3D"></stop> <stop offset="0.3" style="stop-color:#C74C4D"></stop> <stop offset="0.6" style="stop-color:#C21975"></stop> <stop offset="1" style="stop-color:#7024C4"></stop> </linearGradient> <path id="XMLID_17_" style="fill:url(#XMLID_2_);" d="M386.878,0H164.156C73.64,0,0,73.64,0,164.156v222.722 c0,90.516,73.64,164.156,164.156,164.156h222.722c90.516,0,164.156-73.64,164.156-164.156V164.156 C551.033,73.64,477.393,0,386.878,0z M495.6,386.878c0,60.045-48.677,108.722-108.722,108.722H164.156 c-60.045,0-108.722-48.677-108.722-108.722V164.156c0-60.046,48.677-108.722,108.722-108.722h222.722 c60.045,0,108.722,48.676,108.722,108.722L495.6,386.878L495.6,386.878z"></path> <linearGradient id="XMLID_3_" gradientUnits="userSpaceOnUse" x1="275.517" y1="4.5714" x2="275.517" y2="549.7202" gradientTransform="matrix(1 0 0 -1 0 554)"> <stop offset="0" style="stop-color:#E09B3D"></stop> <stop offset="0.3" style="stop-color:#C74C4D"></stop> <stop offset="0.6" style="stop-color:#C21975"></stop> <stop offset="1" style="stop-color:#7024C4"></stop> </linearGradient> <path id="XMLID_81_" style="fill:url(#XMLID_3_);" d="M275.517,133C196.933,133,133,196.933,133,275.516 s63.933,142.517,142.517,142.517S418.034,354.1,418.034,275.516S354.101,133,275.517,133z M275.517,362.6 c-48.095,0-87.083-38.988-87.083-87.083s38.989-87.083,87.083-87.083c48.095,0,87.083,38.988,87.083,87.083 C362.6,323.611,323.611,362.6,275.517,362.6z"></path> <linearGradient id="XMLID_4_" gradientUnits="userSpaceOnUse" x1="418.306" y1="4.5714" x2="418.306" y2="549.7202" gradientTransform="matrix(1 0 0 -1 0 554)"> <stop offset="0" style="stop-color:#E09B3D"></stop> <stop offset="0.3" style="stop-color:#C74C4D"></stop> <stop offset="0.6" style="stop-color:#C21975"></stop> <stop offset="1" style="stop-color:#7024C4"></stop> </linearGradient> <circle id="XMLID_83_" style="fill:url(#XMLID_4_);" cx="418.306" cy="134.072" r="34.149"></circle> </g> </g></svg>
      
                    </a>
              
            </div>
            <ThemeToggle />
            <button type="button" aria-label="Open menu" aria-controls="mobile-menu" aria-expanded="false" data-menu-btn class="md:hidden inline-flex items-center justify-center w-10 h-10 rounded-lg text-[color:var(--color-text-secondary)] hover:text-white">
                <svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true"><path fill="currentColor" d="M3 6h18v2H3V6Zm0 5h18v2H3v-2Zm0 5h18v2H3v-2Z"/></svg>
            </button>
        </div>
    </nav>
    <div id="mobile-menu" class="md:hidden hidden border-t">
        <div class="mx-auto max-w-6xl px-4 py-3 flex flex-col gap-2">
            <div class="flex flex-col">
                <HeaderLink href="/hasac" class="px-2 py-3">Əsas</HeaderLink>
                <!-- <HeaderLink href="/hasac/portfolio" class="px-2 py-3">Layihələr</HeaderLink>-->
                <HeaderLink href="/hasac/about" class="px-2 py-3">Haqqımızda</HeaderLink>
                <HeaderLink href="/hasac/blog" class="px-2 py-3">Məqalələr</HeaderLink>
                 <a href="https://instagram.com/" target="_blank" class="px-2 py-3"> Instagram   
                    </a>
              <a href="#contact" class="px-2 py-3">Bizimlə Əlaqə</a>
            </div>
        </div>
    </div>
</header>

<script is:inline>
  const btn = document.querySelector('[data-menu-btn]');
  const panel = document.getElementById('mobile-menu');
  function toggleMenu() {
    if (!panel || !btn) return;
    const isOpen = !panel.classList.contains('hidden');
    if (isOpen) {
      panel.classList.add('hidden');
      btn.setAttribute('aria-expanded', 'false');
    } else {
      panel.classList.remove('hidden');
      btn.setAttribute('aria-expanded', 'true');
    }
  }
  btn?.addEventListener('click', toggleMenu);
  document.addEventListener('keydown', (e) => { if (e.key === 'Escape') {
    if (!panel?.classList.contains('hidden')) toggleMenu();
  }});
  document.addEventListener('click', (e) => {
    if (!panel || !btn) return;
    const target = e.target;
    const clickedInside = panel.contains(target) || btn.contains(target);
    if (!clickedInside && !panel.classList.contains('hidden')) toggleMenu();
  });
</script>
